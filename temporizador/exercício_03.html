<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="utf-8">
        <title>Ex 03</title>
    </head>
    <body>

        <h1>Exercício 03 - Temporizador</h1>
        <p>Mostrar cronômetro. Faça uma interface contendo um input text e três botões. Ao clicar no primeiro deve iniciar um cronômetro. O segundo deve pausar ou continuar. O terceiro deve resetar o cronometro. </p>
        <hr>
        <input type="text" id="cronometro">
        <button id="btnIniciar">Iniciar</button>
        <button id="pausar">Pausar</button>
        <button id="limpar">Limpar</button>
    </body>
    <script>

        (function(){
            'use strict';

            var $cronometro = document.querySelector('#cronometro');
            var $btnIniciar = document.querySelector('#btnIniciar');
            var $btnPausar = document.querySelector('#pausar');
            var $btnLimpar = document.querySelector('#limpar');

            $btnIniciar.addEventListener('click', iniciar);
            $btnPausar.addEventListener('click', pausar);
            $btnLimpar.addEventListener('clikc', limpar);

            var tsInicial = 0;
            var tsAgora = 0;
            var tsDiferenca = 0;

            function iniciar(){
                tsInicial = Date.now();
                iniciarCronometro();
            };

            function pausar(){};

            function limpar(){};

            function iniciarCronometro(){
                setInterval(function(){
                    tsAgora = Date.now();
                    tsDiferenca = tsAgora - tsInicial;
                    $cronometro.value = converterTempo(tsDiferenca);
                }, 100);
            }

            function converterTempo(ms){
                if(ms < 1000){
                    return ms;
                } else if (ms < 60000){
                    var s = ms / 1000;
                    s = parseInt(s);
                    var c = ms - (s * 1000);
                    c = parseInt(c);
                    return s + ':' + c;
                } else {
                    var m = ms / 60000;
                    m = parseInt(m);
                    var s = ms/1000 - (m * 60);
                    s = parseInt(s);
                    var c = ms - (s * 1000) - (m * 60 * 1000);
                    c = parseInt(c);
                    return m + ":" + s + ':' + c
                }
            }

        })();

    </script>
</html>